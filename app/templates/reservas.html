{% extends 'base.html' %}

{% block title %}Reservas{% endblock %}

{% block content %}
<h1>GestiÃ³n de Reservas</h1>

<!-- ğŸ” Formulario de bÃºsqueda -->
<form method="get" action="{{ url_for('crud.reservas') }}">
    <input type="text" name="cliente_id" placeholder="Buscar por Cliente ID">
    <button type="submit">Buscar</button>
</form>

<!-- ğŸ“ Formulario para nueva reserva -->
<h2>Nueva Reserva</h2>
<form method="post" action="{{ url_for('crud.reservas') }}">
    <input type="number" name="cliente_id" placeholder="Cliente ID" required>
    <input type="date" name="fecha" required>
    <input type="number" name="habitacion" placeholder="HabitaciÃ³n" required>
    <input type="number" name="duracion" placeholder="DuraciÃ³n (dÃ­as)" required>
    <button type="submit">Agregar Reserva</button>
</form>

<!-- ğŸ“‹ Listado de reservas -->
<h2>Listado</h2>
<table border="1" cellpadding="5">
    <thead>
        <tr>
            <th>ID</th>
            <th>Cliente</th>
            <th>Fecha</th>
            <th>HabitaciÃ³n</th>
            <th>DuraciÃ³n</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for r in reservas %}
        <tr>
            <td>{{ r.id }}</td>
            <td>{{ r.cliente_id }}</td>
            <td>{{ r.fecha }}</td>
            <td>{{ r.habitacion }}</td>
            <td>{{ r.duracion }}</td>
            <td>
                <a href="{{ url_for('crud.editar_reserva', id=r.id) }}">âœï¸</a>
                <form method="post" action="{{ url_for('crud.borrar_reserva', id=r.id) }}" style="display:inline;">
                    <button type="submit" onclick="return confirm('Â¿Borrar esta reserva?')">ğŸ—‘ï¸</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
